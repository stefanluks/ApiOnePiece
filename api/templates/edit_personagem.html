{% extends 'base.html' %}

{% block page_style %}
{% endblock %}

{% block page %}
    <div class="container d-flex align-items-center justify-content-center" style="min-height: 100vh;">
        <form action="{% url 'EditarPersonagens' personagem.id %}" method="post" class="form-control my-4">
            {% csrf_token %}
            <h3 class="fs-2 text-center my-2">{{modelo}}</h3>
            <p>
                <label for="id_nome_portugues">Nome em português:</label>
                <input type="text" name="nome_portugues" maxlength="150" id="id_nome_portugues" value="{{personagem.nome_portugues}}">
            </p>
            <p>
                <label for="id_nome_japones">Nome em japonês:</label>
                <input type="text" name="nome_japones" maxlength="150" id="id_nome_japones" value="{{personagem.nome_japones}}">    
            </p>
            <p>
                <label for="id_nome_romanizado">Nome em romanizado:</label>
                <input type="text" name="nome_romanizado" maxlength="150" required id="id_nome_romanizado" value="{{personagem.nome_romanizado}}">
            </p> 
            <p>
                <label for="id_resumo">Resumo curto:</label>
                <textarea name="resumo" cols="40" rows="10" maxlength="500" id="id_resumo" style="resize: none;">
                    {{personagem.resumo}}
                </textarea>  
            </p>
            <p>
                <label for="id_descricao">Descrição / História:</label>
                <textarea name="descricao" cols="40" rows="10" maxlength="5000" id="id_descricao" style="resize: none;">
                    {{personagem.descricao}}
                </textarea>
            </p>
            <p>
                <label for="id_alcunha">Alcunha:</label>
                <input type="text" name="alcunha" maxlength="150" id="id_alcunha" value="{{personagem.alcunha}}">
            </p>
            <p>
                <label for="id_idade">Idade:</label>
                <input type="number" name="idade" value="0" required id="id_idade" value="{{personagem.idade}}">
            </p>
            <p>
                <label for="id_recompensa">Recompensa:</label>
                <input type="number" name="recompensa" value="0" required id="id_recompensa" value="{{personagem.recompensa}}">
            </p>
            <p>
                <label for="id_pai">Pai:</label>
                <select name="pai" id="id_pai">
                    <option value="" selected>---------</option>
                    {% for p in personagens %}
                        <option value="{{p.id}}">{{p}}</option>
                    {% endfor %}
                </select>
            </p>
            <p>
                <label for="id_mae">Mae:</label>
                <select name="mae" id="id_mae">
                    <option value="" selected>---------</option>
                    {% for p in personagens %}
                        <option value="{{p.id}}">{{p}}</option>
                    {% endfor %}
                </select>
            </p>
            <p>
                <label for="id_afiliacao">Afiliacao:</label>
                <select name="afiliacao" id="id_afiliacao" multiple>
                    {% for b in bandos %}
                        <option value="{{b.id}}">{{b}}</option>
                    {% endfor %}
                </select>
            </p>
            <p>
                <label for="id_origem">Origem:</label>
                <select name="origem" id="id_origem">
                    <option value="" selected>---------</option>
                    {% for l in lugares %}
                        <option value="{{l.id}}">{{l}}</option>
                    {% endfor %}
                </select>
            </p>
            <p>
                <label for="id_status">Status:</label>
                <select name="status" id="id_status">
                    <option value="" selected>---------</option>
                    <option value="0">VIVO</option>
                    <option value="1">MORTO</option>
                </select>
            </p>
            <p>
                <label for="id_aniversario">Data de aniversario:</label>
                <input type="date" name="aniversario" id="id_aniversario" value="{{personagem.aniversario}}">
            </p>
            <p>
                <label for="id_altura_pre_timeskip">Altura pré timeskip:</label>
                <input type="number" name="altura_pre_timeskip" value="{{personagem.altura_pre_timeskip}}" step="any" required id="id_altura_pre_timeskip">
            </p>
            <p>
                <label for="id_altura_pos_timeskip">Altura pós timeskip:</label>
                <input type="number" name="altura_pos_timeskip" value="{{personagem.altura_pos_timeskip}}" step="any" required id="id_altura_pos_timeskip">
            </p>
            <p>
                <label for="id_tipo_sanguineo">Tipo sanguinéo:</label>
                <input type="text" name="tipo_sanguineo" maxlength="150" id="id_tipo_sanguineo" value="{{personagem.tipo_sanguineo}}">
            </p>
            <p>
                <label for="id_habilidade">Habilidade:</label>
                <select name="habilidade" id="id_habilidade" multiple>
                    {% for h in habilidades %}
                        <option value="{{h.id}}">{{h}</option>
                    {% endfor %}
                </select>
            </p>
            <p>
                <label for="id_aparicao_manga">Aparicao manga:</label>
                <select name="aparicao_manga" id="id_aparicao_manga">
                    <option value="" selected>---------</option>
                    {% for c in capitulos %}
                        <option value="{{c.id}}">{{c}}</option>
                    {% endfor %}
                </select>
            </p>
            <p>
                <label for="id_aparicao_anime">Aparicao anime:</label>
                <select name="aparicao_anime" id="id_aparicao_anime">
                    <option value="" selected>---------</option>
                    {% for e in episodios %}
                        <option value="{{e.id}}">{{e}}</option>
                    {% endfor %}
                </select>
            </p>
            <p>
                <label for="id_risada">Risada Onomatopeia:</label>
                <input type="text" name="risada" maxlength="150" id="id_risada" value="{{personagem.risada}}">
            </p>
            <p>
                <label for="id_aparencia_crianca">Aparencia Criança:</label>
                <input type="text" name="aparencia_crianca" maxlength="1500" id="id_aparencia_crianca" value="{{personagem.aparencia_crianca}}">
            </p>
            <p>
                <label for="id_aparencia_pre_timeskip">Aparencia Pré TimeSkip:</label>
                <input type="text" name="aparencia_pre_timeskip" maxlength="1500" id="id_aparencia_pre_timeskip"  value="{{personagem.aparencia_pre_timeskip}}"> 
            </p>
            <p>
                <label for="id_aparencia_pos_timeskip">Aparencia Pós TImeSkip:</label>
                <input type="text" name="aparencia_pos_timeskip" maxlength="1500" id="id_aparencia_pos_timeskip" value="{{personagem.aparencia_pos_timeskip}}">
            </p>
            <p>
                <label for="id_irmaos">Irmaos:</label>
                <select name="irmaos" id="id_irmaos" multiple>
                    {% for p in personagens %}
                        <option value="{{p.id}}">{{p}}</option>
                    {% endfor %}
                </select>  
            </p> 
            <p>
                <label for="id_dubladores">Dubladores:</label>
                <select name="dubladores" id="id_dubladores" multiple>
                    {% for p in personagens %}
                        <option value="{{p.id}}">{{p}}</option>
                    {% endfor %}
                </select>
            </p>            
            <button type="submit" class="w-100 btn my-1 btn-primary">SALVAR</button>
            <button type="cancel" class="w-100 btn my-1 btn-warning">CANCELAR</button>
            <a href="{% url 'Home' %}" class="w-100 btn my-1 btn-danger">VOLTAR</a>
        </form>
    </div>
{% endblock %}

{% block page_script %}
    <script>
        let blocos = document.querySelectorAll("p");
        let labels = document.querySelectorAll("label");
        let inputs = document.querySelectorAll("input");
        let selects = document.querySelectorAll("select");
        let textareas = document.querySelectorAll("textarea");
        blocos.forEach(p => { p.className = "mb-3"; });
        labels.forEach( lb => { lb.classList.toggle("form-label"); lb.classList.toggle("fs-5"); });
        inputs.forEach( i => { i.classList.toggle("form-control"); });
        selects.forEach( s => { s.classList.toggle("form-control"); });
        textareas.forEach( ta => { ta.classList.toggle("form-control"); });
    </script>
{% endblock %}